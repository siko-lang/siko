module Main {

enum Foo {
    Bar,
    Baz,
}

fn main() {
    let f = Bar;
    let v = match f {
        Bar if { println("first guard"); False } -> 1,
        Bar if { println("second guard"); False } -> 1,
        Bar if { println("third guard"); True } -> 1,
        Bar -> 2,
        Baz -> 3,
    };
    assert(v == 1);
}

}
