module Main {

struct Bar {

}

instance Drop[Bar] {
    fn drop(self) -> Self {
        println("Dropping Bar");
        self
    }
}

struct Foo {
    value: Bar
}

fn foo(f: &Bar) {
}

fn main() {
    let f : Foo = Foo(Bar());
    {
        println("Before foo");
        foo(f.value);
        println("After foo");
    }
}

}