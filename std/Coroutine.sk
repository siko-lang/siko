module Coroutine {

pub enum Result[Y, R] {
    Yielded(Y),
    Returned(R),
}

@safe
pub fn resume[Y, R, F](coro: co(Y, R) -> F, resumeValue: R) -> (co(Y, R) -> F,  Result[Y, R]) {
    return coResume(coro, resumeValue);
}

@safe
pub fn isCompleted[Y, R, F](coro: co(Y, R) -> F) -> Bool {
    return coIsCompleted(coro);
}

fn coResume[Y, R, F](coro: co(Y, R) -> F, resumeValue: R) -> (co(Y, R) -> F,  Result[Y, R]) = extern

fn coIsCompleted[Y, R, F](coro: co(Y, R) -> F) -> Bool = extern

}