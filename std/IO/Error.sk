module IO.Error {

pub struct Error {
    code: Int,
    msg: String,

    pub fn new(code: Int) -> Error {
        Error(code, "".toString())
    }
}

pub instance ErrShow Show[Error] {
    fn show(&self) -> String {
        if self.msg.len() > 0 {
            "IO Error ${self.code}: ${self.msg}".toString()
        } else {
            "IO Error ${self.code}".toString()
        }
    }
}

}